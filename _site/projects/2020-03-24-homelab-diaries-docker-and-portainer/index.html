<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.15.2 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Homelab Diaries: Docker &amp; Portainer - adamdubey.github.io</title>
<meta name="description" content="Getting up and running with Docker and Portainer in the homelab.">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="adamdubey.github.io">
<meta property="og:title" content="Homelab Diaries: Docker &amp; Portainer">
<meta property="og:url" content="http://localhost:4000/projects/2020-03-24-homelab-diaries-docker-and-portainer/">


  <meta property="og:description" content="Getting up and running with Docker and Portainer in the homelab.">







  <meta property="article:published_time" content="2020-03-24T00:00:00-05:00">





  

  


<link rel="canonical" href="http://localhost:4000/projects/2020-03-24-homelab-diaries-docker-and-portainer/">







  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "Adam Dubey",
      "url": "http://localhost:4000",
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="adamdubey.github.io Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE ]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->
<link
  rel="shortcut icon"
  type="image/x-icon"
  href="../../assets/images/favicon.ico"
/>
<!-- end custom head snippets -->

  </head>

  <body class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">adamdubey.github.io</a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/" >Posts</a>
            </li><li class="masthead__menu-item">
              <a href="/projects/" >Projects</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      

      
        <img src="/assets/images/bio-photo.jpeg" alt="Adam Dubey" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Adam Dubey</h3>
    
    
      <p class="author__bio" itemprop="description">
        Intergalactic citizen of the Internet.
      </p>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">San Francisco, CA</span>
        </li>
      

      
        
          
        
          
        
          
        
          
        
          
            <li><a href="https://github.com/adamdubey" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
          
        
          
        
          
            <li><a href="https://www.linkedin.com/in/adam-dubey" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> Linkedin</a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Homelab Diaries: Docker &amp; Portainer">
    <meta itemprop="description" content="Getting up and running with Docker and Portainer in the homelab.">
    <meta itemprop="datePublished" content="March 24, 2020">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Homelab Diaries: Docker &amp; Portainer
</h1>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
        <p>Getting up and running with Docker and Portainer in the homelab.</p>

<h1 id="existing-infrastructure">Existing Infrastructure</h1>

<p>I’ve recently expanded the actual lab portion of my homelab with another spec-stacked Dell R710, so it quickly got a fresh copy ESXi and added it to the cluster.</p>

<p>Now with fresh hardware up and running, it’s time to get Portainer setup and ready for use!</p>

<h2 id="portainer--docker-a-cursory-overview">Portainer &amp; Docker: A cursory overview</h2>

<p>Docker is typically described as <em>“Enterprise Container Platform for High-Velocity Innovation”</em> and that about sums it up pretty nicely…kinda. I think folks get hung up on some of the deep technical aspects which adds fuzz to the basic understanding, but basically Docker containers provide a standardized environment for your applications to live in. There are numerous ways to configure your container, such as software and operating systems, however all of the containers are sharing the same host hardware, and most importantly the kernel.</p>

<p>Portainer is simply just a management UI to manage Docker environments. I tend to live in the CLI myself, but sometimes GUIs are nice too.</p>

<p>So Portainer isn’t exactly necessary for my needs, I still want to have it in the lab, even if it’s just for practicing and honing skills.</p>

<h2 id="installing-the-docker-host-vm">Installing the Docker Host VM</h2>

<p>For my Docker Host VM, I’m going with Photon OS. If you haven’t used it yet within your homelab, definitely give it a go! It’s really lightweight, and pretty seamless getting an instance running in VSphere since there are both OVA and ISO files.</p>

<p>Follow the process to get the Photon OS VM created per your environment, and perform the setup steps such as changing your password.</p>

<p>Next, we will need to configure Docker, which couldn’t be any easier with PhotonOS - Just enter these two commands:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>systemctl start docker
<span class="nv">$ </span>systemctl <span class="nb">enable </span>docker
</code></pre></div></div>

<h2 id="configuring-portainer">Configuring Portainer</h2>

<p>Just a few more commands to go before we’re done…So back at the Photon console:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker volume create portainer_data
<span class="nv">$ </span>docker run <span class="nt">-d</span> <span class="nt">-p</span> 9000:9000 <span class="nt">-name</span> Portainer <span class="nt">-restart</span> always <span class="nt">-v</span> /var/run/docker.sock:/var/run docker.sock <span class="nt">-v</span> portainer_data:/data portainer/portainer
</code></pre></div></div>

<p>First we create the volume external to any container named <code class="highlighter-rouge">portainer_data</code>. Next, we install Portainer and configure it to listen on port 9000 with an additional flag to always restart in the event the container stops. Pretty painless eh?</p>

<p>You can open Portainer in your web browser of choice, by navigating to your instance’s IP address followed by the port number, for example:</p>

<p><code class="highlighter-rouge">192.168.3.27:9000</code></p>

<p>And that’s it! Just follow whatever wizards lurk ahead <em>(stuff changes all the time, and whatever I write will probably be obsolete soon)</em>.</p>

<h2 id="next-steps">Next Steps</h2>

<p>Thanks for sticking around! If you’ve followed to this point, the next steps you’d take would be to create project containers as necessary. There are way more features and aspects of each piece of tech I’ve elected to use here, but I feel this gets the practical hands-on approach for those of you playing along at home.</p>

        
      </section>

      <footer class="page__meta">
        
        


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2020-03-24T00:00:00-05:00">March 24, 2020</time></p>
        
      </footer>

      

      
  <nav class="pagination">
    
      <a href="/projects/2019-09-15-deploying-a-react-app-to-github-pages/" class="pagination--pager" title="Deploying a React.js app with GitHub Pages
">Previous</a>
    
    
      <a href="#" class="pagination--pager disabled">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
</div>

    </div>

    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
      
        
      
        
          <li><a href="https://github.com/adamdubey" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
      
        
      
        
      
        
          <li><a href="https://www.linkedin.com/in/adam-dubey" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> Linkedin</a></li>
        
      
    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2020 Adam Dubey. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.8.1/js/all.js" integrity="sha384-g5uSoOSBd7KkhAMlnQILrecXvzst9TdC09/VM+pjDTCM+1il8RHz5fKANTFFb+gQ" crossorigin="anonymous"></script>








  </body>
</html>
