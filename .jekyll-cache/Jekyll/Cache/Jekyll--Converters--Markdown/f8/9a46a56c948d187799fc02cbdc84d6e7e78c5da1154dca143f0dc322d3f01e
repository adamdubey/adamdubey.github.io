I"€<p>Building a digital cookbook using Sphinx.</p>

<h1 id="yo-chef">Yo Chef!</h1>

<p>I love to cook! And like many people, I‚Äôve accumulated far too many cookbooks and recipies, which over time becomes highly inefficient when searching for a particular recipe to cook - especially when time is tight during weeknights. I‚Äôve probably pruned my ‚Äúgo to‚Äù list of recipies down multiple times, but it still just doesn‚Äôt serve me as well as I‚Äôd hoped.</p>

<p>Initially I begun to prototype this project during some free time at work one day using Sphinx as I already had familiarity working with it for technical documentation. So here is my solution to a digital cookbook - bon appetite!</p>

<h2 id="building-the-cookbook">Building the cookbook</h2>

<p>First things first, create a project workspace. At the time of deployment, I was rebuilding part of my Production lab stack, so I had to go with an Ubuntu VM. I‚Äôd strongly recomend leveraging a Docker Container for something like this as it doesn‚Äôt need the heavy footprint of a VM.</p>

<p><img src="/assets/images/cookbook/cookbook-vm-settings.png" alt="vm-settings" /></p>

<p><em>I‚Äôve since changed the specs - this was an early iteration during prototyping‚Ä¶</em></p>

<p>Next up to bat is provisioning the enviornment:</p>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 1. Installing Python
</span><span class="err">$</span> <span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">python3</span><span class="mf">.6</span>

<span class="c1"># 2. Installing Pip
</span><span class="err">$</span> <span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">python3</span><span class="o">-</span><span class="n">pip</span>

<span class="c1"># 3. Installing Sphinx
</span><span class="err">$</span> <span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">python3</span><span class="o">-</span><span class="n">sphinx</span>
</code></pre></div></div>

<p>That‚Äôs it! This concludes the required initial tasks to get this project up and running, now it‚Äôs just a matter of adding content and deploying.</p>

<h2 id="workflow-overview">Workflow Overview</h2>

<p>To give you an idea of what the end result will look like</p>

<p><img src="/assets/images/cookbook/chef-adam-cookbook.png" alt="chef-adam-cookbook" /></p>

<p>And pretty quickly you‚Äôll notice your docs look a bit different than mine‚Ä¶enter custom themes!</p>

<p>First, you need to install the theme:</p>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">$</span> <span class="n">pip</span> <span class="n">install</span> <span class="n">sphinx_rtd_theme</span>
</code></pre></div></div>

<p>Then you need to update a few settings in your conf.py.</p>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">sphinx_rtd_theme</span>

<span class="n">html_theme</span> <span class="o">=</span> <span class="s">'sphinx_rtd_theme'</span>

<span class="n">html_theme_path</span> <span class="o">=</span> <span class="p">[</span><span class="n">sphinx_rtd_theme</span><span class="o">.</span><span class="n">get_html_theme_path</span><span class="p">()]</span>
</code></pre></div></div>

<p>If you rebuild your documentation, you will see the new theme:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>make html
</code></pre></div></div>

<p>Now onto the workflow! For me, I stick to these steps:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 1. If the dir/file doesn't exist, make one</span>
<span class="nv">$ </span><span class="nb">mkdir </span>bread <span class="o">&amp;&amp;</span> <span class="nb">cd </span>bread/

<span class="c"># 2. If you're adding a new recipie to an existing dir</span>
<span class="nv">$ </span><span class="nb">cd </span>bread/
<span class="nv">$ </span><span class="nb">touch </span>french-country-bread.rst

<span class="c"># 3. Add the file entry in the `index.rst`</span>
.. toctree::
   :maxdepth: 2
   :caption: Bread

   bread/french-country-bread

<span class="c"># 4. Add content to the new file</span>
<span class="c"># Add the recipie ingredients and steps of your choosing to the new file.</span>

<span class="c"># 5. Build and verify</span>
<span class="nv">$ </span>make html
</code></pre></div></div>

<p>In a browser window, navigate to your local file directory where your project is located and open the <code class="highlighter-rouge">docs/build/html/index.html</code> file to view the new changes. Rinse and repeat as necessary!</p>

<h2 id="deployments">Deployments</h2>

<p>This will probably be contingent upon your own personal workflow, so I won‚Äôt spend too much time covering this point. Initially during my prototyping phase, I just used <code class="highlighter-rouge">http.server</code> to quickly deploy internally.</p>

<p>You could do the same, however <code class="highlighter-rouge">http.server</code> is not recomended for a true Production enviornment as it only implements basic security checks, just be aware of the limitations and dangers.</p>

<p>Whatever you decide, once you have your server running you can view your cookbook by dialing up <code class="highlighter-rouge">x.x.x.x:8000</code> in your web browser of choice, and just like that you‚Äôll have yourself a little cookbook!</p>
:ET